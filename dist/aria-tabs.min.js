!function(e){"function"==typeof define&&define.amd&&define(["jquery"],e)}(function(e,t,n){"use strict";function a(e,t,n){return n=void 0!==n?n:"",e.is("[id]")||e.attr("id",t+n),e.attr("id")}function s(e){return!(e.shiftKey||e.ctrlKey||e.altKey||e.metaKey)}function i(t,n){var s=this;s.element=e(t),s.settings=e.extend({},e.fn[l].defaultSettings,n),s.elementId=a(s.element,s.settings.tabGroupIdPrefix,o),s.nav=s.element.find("."+s.settings.navClass),s.list=s.element.find("."+s.settings.listClass),s.panelsContainer=s.element.find("."+s.settings.panelsContainerClass),s.elements={listItems:s.list.find("."+s.settings.listItemClass),btn:s.list.find("."+s.settings.btnClass),panel:s.panelsContainer.find("."+s.settings.panelClass),content:s.panelsContainer.find("."+s.settings.contentClass)},s.elementsLenght=s.elements.panel.length,s.selectedTab=0,s.init()}var l="ariaTabs",r={aHi:"aria-hidden",aSe:"aria-selected",aCs:"aria-controls",aLab:"aria-labelledby",aOr:"aria-orientation",tbI:"tabindex",r:"role",t:"true",f:"false"},o=0,c=e(t);e.extend(i.prototype,{init:function(){var t=this,n=t.settings,s=t.elements,i=s.btn,d=s.panel;t.nav.attr(r.r,"tablist"),i.attr(r.r,"tab"),t.list.attr(r.r,"none presentation"),s.listItems.attr(r.r,"none presentation"),n.verticalMode&&t.nav.attr(r.aOr,"vertical"),i.each(function(e){a(i.eq(e),t.elementId+"__btn--",o),a(d.eq(e),t.elementId+"__panel--",o),i.eq(e).attr(r.aCs,d.eq(e).attr("id")),d.eq(e).attr(r.aLab,i.eq(e).attr("id"))}),"string"==typeof n.contentRole?s.content.attr(r.r,n.contentRole):Array.isArray(n.contentRole)&&s.content.each(function(t){e(this).attr(r.r,n.contentRole[t])}),i.each(function(e){e>0?t.hide(e):t.show(e,!1)}),t.element.on("click."+l+".count","."+n.btnClass,function(){var n=i.index(e(this));n!==t.selectedTab&&t.toggle(n,!0)}),t.element.on("keydown."+l+"."+o,"."+n.btnClass,function(e){t.keyboardNavigation(e)}),c.trigger(l+".initialised",[t]),o+=1},toggle:function(e,t){var n=this;n.hide(n.selectedTab),n.show(e,t)},keyboardNavigation:function(e){var t=this,n=t.elementsLenght,a=t.selectedTab,i=e.keyCode,l=0,r=t.settings.verticalMode;if(!s(e))return!1;switch(i){case 37:l=0===a?n-1:a-1;break;case 39:l=a===n-1?0:a+1;break;case 36:l=0;break;case 35:l=n;break;case 38:l=!!r&&(0===a?n-1:a-1);break;case 40:l=!!r&&(a===n-1?0:a+1);break;default:l=!1}!1!==l&&(e.preventDefault(),t.elements.btn.eq(l).focus(),t.toggle(l,!0))},select:function(e){var t=this,n=t.settings,a=t.elements;a.btn.eq(e).addClass(n.btnSelectedClass).attr(r.tbI,"0").attr(r.aSe,r.t),a.panel.eq(e).addClass(n.panelSelectedClass).attr(r.aHi,r.f),t.selectedTab=e},deselect:function(e){var t=this,n=t.settings,a=t.elements;a.btn.eq(e).removeClass(n.btnSelectedClass).attr(r.tbI,"-1").attr(r.aSe,r.f),a.panel.eq(e).removeClass(n.panelSelectedClass).attr(r.aHi,r.t)},show:function(e,t){var n=this,a=t?n.settings.fadeSpeed:0;n.settings.cssTransitions||n.elements.panel.eq(e).fadeIn(a),n.select(e),c.trigger(l+".select",[n,e])},hide:function(e){var t=this;t.settings.cssTransitions||t.elements.panel.eq(e).hide(),t.deselect(e),c.trigger(l+".deselect",[t,e])},methodCaller:function(t,n){var a=this;"number"!=typeof n&&("string"==typeof n&&(n=e(n)),"object"==typeof n&&1===n.length&&n.hasClass(a.settings.btnClass)&&1===n.closest(a.element).length&&(n=a.nav.index(n))),"select"===t&&a.toggle(n,!0)}}),e.fn[l]=function(t,n){return this.each(function(){var a=this;e.data(a,"plugin_"+l)||"object"!=typeof t&&void 0!==t?"string"==typeof t&&void 0!==n&&e.data(a,"plugin_"+l).methodCaller(t,n):e.data(a,"plugin_"+l,new i(a,t))})},e.fn[l].defaultSettings={tabGroupIdPrefix:"tab-group--",navClass:"tab-group__tab-nav",listClass:"tab-group__tab-ul",listItemClass:"tab-group__tab-li",btnClass:"tab-group__tab-btn",panelsContainerClass:"tab-group__tabs-cont",panelClass:"tab-group__tabpanel",contentClass:"tab-group__tab-content",contentRole:"document",btnSelectedClass:"tab-group__tab-btn_selected",panelSelectedClass:"tab-group__tabpanel_selected",verticalMode:!1,fadeSpeed:300,cssTransitions:!1}}(jQuery,window,document));