!function(e){"function"==typeof define&&define.amd&&define(["jquery"],e)}(function(i,e,t){"use strict";var l="ariaTabs",a="aria-hidden",o="aria-selected",r="aria-controls",c="aria-labelledby",d="aria-orientation",b="tabindex",g="role",f="true",u="false",p=0,h=i(e);function C(e,t,n){return n=void 0!==n?n:"",e.is("[id]")||e.attr("id",t+n),e.attr("id")}function n(e,t){var n=this;n.element=i(e),n.settings=i.extend({},i.fn[l].defaultSettings,t),n.elementId=C(n.element,n.settings.tabGroupIdPrefix,p),n.nav=n.element.find("."+n.settings.navClass),n.list=n.element.find("."+n.settings.listClass),n.panelsContainer=n.element.find("."+n.settings.panelsContainerClass),n.elements={listItems:n.list.find("."+n.settings.listItemClass),btn:n.list.find("."+n.settings.btnClass),panel:n.panelsContainer.find("."+n.settings.panelClass),content:n.panelsContainer.find("."+n.settings.contentClass)},n.elementsLenght=n.elements.panel.length,n.selectedTab=0,n.init()}i.extend(n.prototype,{init:function(){var t=this,n=t.settings,e=t.elements,s=e.btn,a=e.panel;t.nav.attr(g,"tablist"),s.attr(g,"tab"),t.list.attr(g,"none presentation"),e.listItems.attr(g,"none presentation"),n.verticalMode&&t.nav.attr(d,"vertical"),s.each(function(e){C(s.eq(e),t.elementId+"__btn--",p),C(a.eq(e),t.elementId+"__panel--",p),s.eq(e).attr(r,a.eq(e).attr("id")),a.eq(e).attr(c,s.eq(e).attr("id"))}),"string"==typeof n.contentRole?e.content.attr(g,n.contentRole):Array.isArray(n.contentRole)&&e.content.each(function(e){i(this).attr(g,n.contentRole[e])}),s.each(function(e){0<e?t.hide(e):t.show(e,!1)}),t.element.on("click."+l+".count","."+n.btnClass,function(){var e=s.index(i(this));e!==t.selectedTab&&t.toggle(e,!0)}),t.element.on("keydown."+l+"."+p,"."+n.btnClass,function(e){t.keyboardNavigation(e)}),h.trigger(l+".initialised",[t]),p+=1},toggle:function(e,t){var n=this;n.hide(n.selectedTab),n.show(e,t)},keyboardNavigation:function(e){var t,n=this,s=n.elementsLenght,a=n.selectedTab,i=e.keyCode,l=0,o=n.settings.verticalMode;if((t=e).shiftKey||t.ctrlKey||t.altKey||t.metaKey)return!1;switch(i){case 37:l=0===a?s-1:a-1;break;case 39:l=a===s-1?0:a+1;break;case 36:l=0;break;case 35:l=s;break;case 38:l=!!o&&(0===a?s-1:a-1);break;case 40:l=!!o&&(a===s-1?0:a+1);break;default:l=!1}!1!==l&&(e.preventDefault(),n.elements.btn.eq(l).focus(),n.toggle(l,!0))},select:function(e){var t=this,n=t.settings,s=t.elements;s.btn.eq(e).addClass(n.btnSelectedClass).attr(b,"0").attr(o,f),s.panel.eq(e).addClass(n.panelSelectedClass).attr(a,u),t.selectedTab=e},deselect:function(e){var t=this.settings,n=this.elements;n.btn.eq(e).removeClass(t.btnSelectedClass).attr(b,"-1").attr(o,u),n.panel.eq(e).removeClass(t.panelSelectedClass).attr(a,f)},show:function(e,t){var n=this,s=t?n.settings.fadeSpeed:0;n.settings.cssTransitions||n.elements.panel.eq(e).fadeIn(s),n.select(e),h.trigger(l+".select",[n,e])},hide:function(e){this.settings.cssTransitions||this.elements.panel.eq(e).hide(),this.deselect(e),h.trigger(l+".deselect",[this,e])},methodCaller:function(e,t){"number"!=typeof t&&("string"==typeof t&&(t=i(t)),"object"==typeof t&&1===t.length&&t.hasClass(this.settings.btnClass)&&1===t.closest(this.element).length&&(t=this.nav.index(t))),"select"===e&&this.toggle(t,!0)}}),i.fn[l]=function(e,t){return this.each(function(){i.data(this,"plugin_"+l)||"object"!=typeof e&&void 0!==e?"string"==typeof e&&void 0!==t&&i.data(this,"plugin_"+l).methodCaller(e,t):i.data(this,"plugin_"+l,new n(this,e))})},i.fn[l].defaultSettings={tabGroupIdPrefix:"tab-group--",navClass:"tab-group__tab-nav",listClass:"tab-group__tab-ul",listItemClass:"tab-group__tab-li",btnClass:"tab-group__tab-btn",panelsContainerClass:"tab-group__tabs-cont",panelClass:"tab-group__tabpanel",contentClass:"tab-group__tab-content",contentRole:"document",btnSelectedClass:"tab-group__tab-btn_selected",panelSelectedClass:"tab-group__tabpanel_selected",verticalMode:!1,fadeSpeed:300,cssTransitions:!1}}(jQuery,window,document));